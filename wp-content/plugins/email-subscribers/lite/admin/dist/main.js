!function(i){var r={};function n(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=i,n.c=r,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),t.msg=t.msg||__("Loading","email-subscribers")}var e,i,r;return e=t,(i=[{key:"view",value:function(e){return m("div",{class:"absolute w-full mt-48 flex flex-col justify-center text-center items-center space-y-4"},m("div",{class:"text-lg text-gray-600"},t.msg||""),m("div",{class:"text-indigo-600"},m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-16 h-16",stroke:"currentColor",fill:"none",viewBox:"0 0 57 57"},m("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},m("circle",{cx:"5",cy:"50",r:"5"},m("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),m("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})),m("circle",{cx:"27",cy:"5",r:"5"},m("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),m("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})),m("circle",{cx:"49",cy:"50",r:"5"},m("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),m("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"}))))))}}])&&n(e.prototype,i),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),r={items:[],loadItems:function(){return o.showLoader=!0,m.request({method:"GET",url:ajaxurl,params:{action:"ig_es_get_gallery_items",security:ig_es_js_data.security},withCredentials:!0}).then(function(e){r.items=e.data.items,o.showLoader=!1})},loadTemplatePreviewData:function(e){return o.showLoader=!0,m.request({method:"GET",url:ajaxurl,params:{action:"ig_es_preview_template",security:ig_es_js_data.security,template_id:e},withCredentials:!0}).then(function(e){return o.showLoader=!1,e})}},a=r,l={view:function(e){var i=e.attrs.item;return m("div",{class:""},m("div",{class:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden"},i.thumbnail?m("img",{class:"lg:h-48 md:h-36 w-full object-contain object-center",src:i.thumbnail,alt:"{item.title}"}):m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-40 w-full mb-8",fill:"none",viewBox:"0 0 24 24",stroke:"#d2d6dc"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"})),m("div",{class:"p-4 bg-white h-28"},m("div",{class:"flex items-center flex-wrap whitespace-nowrap"},i.categories.map(function(e,t){return m("span",{class:"es-tmpl-category capitalize mr-2 inline-flex items-center leading-none py-1 px-1 text-xs rounded"},i.categories[t])})),m("h4",{onclick:function(){return p.showPreview(i.ID)},class:"title-font text-lg font-medium text-gray-900 mb-3 mt-2 sm:truncate cursor-pointer hover:underline"},i.title),m("div",{class:"flex items-center flex-wrap "},m("a",{href:"?action=ig_es_import_gallery_item&template-id="+i.ID+"&campaign-type="+e.attrs.campaignType+"&_wpnonce="+ig_es_js_data.security,class:"font-semibold text-base text-indigo-500 inline-flex items-center md:mb-2 lg:mb-0"},__("Use this","email-subscribers"),m("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},m("path",{d:"M5 12h14"}),m("path",{d:"M12 5l7 7-7 7"})))))))}},s={previewHTML:"",oncreate:function(){ig_es_load_iframe_preview("#gallery-item-preview-iframe-container",s.previewHTML)},view:function(e){return m("div",{id:"campaign-preview-popup"},m("div",{class:"fixed top-0 left-0 z-50 flex items-center justify-center w-full h-full",style:"background-color: rgba(0,0,0,.5);"},m("div",{id:"campaign-preview-main-container",class:"absolute h-auto pt-2 ml-16 mr-4 text-left bg-white rounded shadow-xl z-80 w-1/2 md:max-w-5xl lg:max-w-7xl md:pt-3 lg:pt-2"},m("div",{class:"py-2 px-4"},m("div",{class:"flex border-b border-gray-200 pb-2"},m("h3",{class:"w-full text-2xl text-left"},__("Template Preview","email-subscribers")),m("div",{class:"flex"},m("button",{id:"close-campaign-preview-popup",class:"text-sm font-medium tracking-wide text-gray-700 select-none no-outline focus:outline-none focus:shadow-outline-red hover:border-red-400 active:shadow-lg",onclick:function(){s.previewHTML=""}},m("svg",{class:"h-5 w-5 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))))),m("div",{id:"gallery-item-preview-container"},m("p",{class:"mx-4 mb-2"},__("There could be a slight variation on how your customer will view the email content.","email-subscribers")),m("div",{id:"gallery-item-preview-iframe-container",class:"py-4 list-decimal popup-preview"})))))}},c=s,d={view:function(e){var t="";return"post_notification"===e.attrs.campaignType?t="?page=es_notifications":"newsletter"===e.attrs.campaignType&&(t="?page=es_newsletters"),t+="&action=new",m("div",{id:"ig-es-campaign-editor-type-popup"},m("div",{class:"fixed top-0 left-0 z-50 flex items-center justify-center w-full h-full",style:"background-color: rgba(0,0,0,.5);"},m("div",{class:"absolute h-auto p-4 ml-16 mr-4 text-left bg-white rounded shadow-xl z-80 md:max-w-5xl md:p-3 lg:p-4"},m("div",{class:"py-2 px-4"},m("div",{class:"flex border-b border-gray-200 pb-2"},m("h3",{class:"text-2xl text-center w-11/12"},__("Create Campaign","email-subscribers")),m("button",{id:"close-campaign-editor-type-popup",onclick:function(){p.hideEditorChoicePopup()},class:"text-sm font-medium tracking-wide text-gray-700 select-none no-outline focus:outline-none focus:shadow-outline-red hover:border-red-400 active:shadow-lg"},m("svg",{class:"h-5 w-5 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}))))),m("div",{class:"mx-4 my-2 list-decimal"},m("div",{class:"mx-auto flex justify-center pt-2"},m("label",{class:"inline-flex items-center cursor-pointer mr-3 h-22 w-50"},m("div",{class:"px-3 py-1 border border-gray-200 rounded-lg shadow-md es-mailer-logo es-importer-logo h-18 bg-white"},m("a",{href:t+"&editor-type="+ig_es_main_js_data.dnd_editor_slug,class:"campaign-editor-type-choice"},m("div",{class:"border-0 es-logo-wrapper"},m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},m("path",{"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 01-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 110-2h4a1 1 0 011 1v4a1 1 0 11-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12zm-9 7a1 1 0 112 0v1.586l2.293-2.293a1 1 0 011.414 1.414L6.414 15H8a1 1 0 110 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 110-2h1.586l-2.293-2.293a1 1 0 011.414-1.414L15 13.586V12a1 1 0 011-1z","clip-rule":"evenodd"}))),m("p",{class:"mb-2 text-sm inline-block font-medium text-gray-600"},__("Create using new Drag & Drop Editor","email-subscribers"))))),m("label",{class:"inline-flex items-center cursor-pointer mr-3 h-22 w-50"},m("div",{class:"px-3 py-1 border border-gray-200 rounded-lg shadow-md es-mailer-logo es-importer-logo h-18 bg-white"},m("a",{href:t+"&editor-type="+ig_es_main_js_data.classic_editor_slug,class:"campaign-editor-type-choice","data-editor-type":"<?php echo esc_attr( IG_ES_CLASSIC_EDITOR ); ?>"},m("div",{class:"border-0 es-logo-wrapper"},m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"}))),m("p",{class:"mb-2 text-sm inline-block font-medium text-gray-600"},__("Create using Classic Editor","email-subscribers"))))))))))}},u={canShowEditorChoicePopup:!1,oninit:function(){a.loadItems()},showPreview:function(e){a.loadTemplatePreviewData(e).then(function(e){c.previewHTML=e.data.template_html})},showEditorChoicePopup:function(){u.canShowEditorChoicePopup=!0},hideEditorChoicePopup:function(){u.canShowEditorChoicePopup=!1},view:function(i){var e,t,r=i.attrs.campaignType,n=[];return 0<a.items.length&&(e=a.items.filter(function(e){return e.type===r}),t=a.items.filter(function(e){return e.type!==r}),n=e.concat(t)),m("section",null,o.showLoader?m(o,null):null,m("section",{class:"overflow-hidden text-gray-700 "},m("div",{class:"container px-5 py-2 mx-auto lg:pt-12 lg:px-32"},m("div",{class:"grid grid-cols-4 gap-4"},m("div",{class:""},m("div",{class:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden"},m("svg",{alt:"{item.title}",xmlns:"http://www.w3.org/2000/svg",class:"h-40 w-full",fill:"none",viewBox:"0 0 24 24",stroke:"#d2d6dc"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})),m("div",{class:"p-4 bg-white h-28 mt-8"},m("h4",{href:"#",onclick:function(){u.showEditorChoicePopup()},class:"title-font text-lg font-medium text-gray-900 mb-3 sm:truncate cursor-pointer hover:underline mt-6"},__("Create from scratch","email-subscribers"))))),n.map(function(e,t){return ig_es_main_js_data.post_digest_campaign_type===e.type&&(r=e.type),m(l,{key:t,item:e,campaignType:r,campaignId:i.attrs.campaignId})})))),""!==c.previewHTML?m(c,null):"",u.canShowEditorChoicePopup?m(d,{campaignType:i.attrs.campaignType}):"")}},p=t.a=u},function(e,t,n){"use strict";n.r(t),function(e){n(3);var t=n(0);e.__=wp.i18n.__,e._x=wp.i18n._x,e.sprintf=wp.i18n.sprintf;var e=document.querySelector("#ig-es-campaign-gallery-items-wrapper"),i=location.search.split("campaign-type=")[1],r=location.search.split("campaign-id=")[1];void 0===i&&(i=ig_es_main_js_data.post_notification_campaign_type),void 0===r&&(r=0),m.mount(e,{view:function(){return m(t.a,{campaignId:r,campaignType:i})}})}.call(this,n(2))},function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}e.exports=r},function(e,t,i){}]);